//Control leftnav pinning/unpinning
$('#leftnav').affix({
    offset: {
        //Pin once the user scrolls to the top of the leftnav
		top: $('#leftnav').offset().top - $('.navbar-fixed-top').height() - 10,
		//Stop pinning when we reach the footer
		bottom: function(){
			return (this.bottom = $('.footer').outerHeight(true))
		}
    }
});

//Determines when the scrollspy will detect a particular section has been scrolled to
$('body').attr("data-offset",$('.navbar-fixed-top').height());

//To correct the position of content divs when a nav pill is clicked
$('#leftnav .nav li a').click(function(event) {
    event.preventDefault();
    $($(this).attr('href'))[0].scrollIntoView();
    scrollBy(0, -$('.navbar-fixed-top').height());
});

$( window ).load(function(){
    $(".carousel-inner>div.item").height(0.3*$(".carousel-inner>div.item").width());
});//not perfect but better than static

$( window ).resize(function(){
    $(".carousel-inner>div.item").height(0.3*$(".carousel-inner>div.item").width());
});//not perfect but better than static